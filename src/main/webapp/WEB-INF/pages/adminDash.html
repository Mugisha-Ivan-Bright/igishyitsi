<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - Connet Platform</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="./adminDash.css">
</head>

<body>
    <!-- Toast Container -->
    <div id="toastContainer" class="toast-container"></div>

    <!-- Hamburger Menu -->
    <div class="hamburger" onclick="toggleSidebar()">
        <span></span>
        <span></span>
        <span></span>
    </div>

    <!-- Sidebar Overlay -->
    <div class="sidebar-overlay" onclick="toggleSidebar()"></div>

    <!-- Sidebar -->
    <aside class="sidebar">
        <div class="logo">
            <div class="logo-icon">‚ö°</div>
            <h1>CONNET ADMIN</h1>
        </div>
        <nav>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="#" class="nav-link active" onclick="navigateTo(event, 'dashboard')">
                        <span class="nav-icon">üìä</span>
                        <span>Dashboard</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link" onclick="navigateTo(event, 'users')">
                        <span class="nav-icon">üë•</span>
                        <span>User Management</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link" onclick="navigateTo(event, 'courses')">
                        <span class="nav-icon">üìö</span>
                        <span>Course Management</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link" onclick="navigateTo(event, 'analytics')">
                        <span class="nav-icon">üìà</span>
                        <span>Analytics</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link" onclick="navigateTo(event, 'revenue')">
                        <span class="nav-icon">üí∞</span>
                        <span>Revenue</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link" onclick="navigateTo(event, 'reports')">
                        <span class="nav-icon">üìÑ</span>
                        <span>Reports</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link" onclick="navigateTo(event, 'settings')">
                        <span class="nav-icon">‚öôÔ∏è</span>
                        <span>Settings</span>
                    </a>
                </li>
            </ul>
        </nav>
        <div class="sidebar-footer">
            <div class="admin-profile">
                <div class="admin-avatar">AD</div>
                <div class="admin-info">
                    <div class="admin-name">Admin User</div>
                    <div class="admin-role">Super Admin</div>
                </div>
            </div>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Dashboard Section -->
        <div id="dashboard" class="content-section active">
            <!-- Header -->
            <header class="header">
                <div class="header-title">
                    <h2>Platform Overview</h2>
                    <p class="header-subtitle">Monitor and manage your entire platform</p>
                </div>
                <div class="header-actions">
                    <button class="btn btn-secondary" onclick="refreshDashboard()">üîÑ Refresh</button>
                    <button class="btn btn-primary" onclick="exportReport()">üì• Export Report</button>
                </div>
            </header>

            <!-- Key Metrics -->
            <div class="metrics-grid">
                <div class="metric-card">
                    <div class="metric-icon" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">üë•
                    </div>
                    <div class="metric-content">
                        <div class="metric-label">Total Users</div>
                        <div class="metric-value" id="totalUsers">1,247</div>
                        <div class="metric-change positive">‚Üë 12.5% from last month</div>
                    </div>
                </div>
                <div class="metric-card">
                    <div class="metric-icon" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">üìö
                    </div>
                    <div class="metric-content">
                        <div class="metric-label">Active Courses</div>
                        <div class="metric-value" id="activeCourses">156</div>
                        <div class="metric-change positive">‚Üë 8.3% from last month</div>
                    </div>
                </div>
                <div class="metric-card">
                    <div class="metric-icon" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">üí∞
                    </div>
                    <div class="metric-content">
                        <div class="metric-label">Monthly Revenue</div>
                        <div class="metric-value" id="monthlyRevenue">$45,280</div>
                        <div class="metric-change positive">‚Üë 15.7% from last month</div>
                    </div>
                </div>
                <div class="metric-card">
                    <div class="metric-icon" style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);">‚≠ê
                    </div>
                    <div class="metric-content">
                        <div class="metric-label">Avg. Rating</div>
                        <div class="metric-value" id="avgRating">4.8</div>
                        <div class="metric-change positive">‚Üë 0.3 from last month</div>
                    </div>
                </div>
            </div>

            <!-- Dashboard Grid -->
            <div class="dashboard-grid">
                <!-- Recent Activity -->
                <div class="section-card">
                    <div class="section-header">
                        <h3 class="section-title">Recent Activity</h3>
                        <a href="#" class="see-all" onclick="navigateTo(event, 'users')">View All</a>
                    </div>
                    <div class="activity-feed" id="activityFeed">
                        <!-- Populated by JS -->
                    </div>
                </div>

                <!-- Right Column -->
                <div style="display: flex; flex-direction: column; gap: 24px;">
                    <!-- Quick Stats -->
                    <div class="section-card">
                        <div class="section-header">
                            <h3 class="section-title">Platform Health</h3>
                        </div>
                        <div class="health-stats">
                            <div class="health-item">
                                <div class="health-label">Server Status</div>
                                <div class="health-value">
                                    <span class="status-dot active"></span>
                                    <span>Operational</span>
                                </div>
                            </div>
                            <div class="health-item">
                                <div class="health-label">Database</div>
                                <div class="health-value">
                                    <span class="status-dot active"></span>
                                    <span>Healthy</span>
                                </div>
                            </div>
                            <div class="health-item">
                                <div class="health-label">API Response</div>
                                <div class="health-value">
                                    <span class="status-dot active"></span>
                                    <span>45ms avg</span>
                                </div>
                            </div>
                            <div class="health-item">
                                <div class="health-label">Uptime</div>
                                <div class="health-value">
                                    <span class="status-dot active"></span>
                                    <span>99.9%</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Quick Actions -->
                    <div class="section-card">
                        <div class="section-header">
                            <h3 class="section-title">Quick Actions</h3>
                        </div>
                        <div class="quick-actions-grid">
                            <button class="action-btn" onclick="navigateTo(event, 'users')">
                                <span class="action-icon">‚ûï</span>
                                <span>Add User</span>
                            </button>
                            <button class="action-btn" onclick="navigateTo(event, 'courses')">
                                <span class="action-icon">üìö</span>
                                <span>New Course</span>
                            </button>
                            <button class="action-btn" onclick="navigateTo(event, 'reports')">
                                <span class="action-icon">üìä</span>
                                <span>Generate Report</span>
                            </button>
                            <button class="action-btn" onclick="sendBroadcast()">
                                <span class="action-icon">üì¢</span>
                                <span>Broadcast</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- User Management Section -->
        <div id="users" class="content-section">
            <header class="header">
                <div class="header-title">
                    <h2>User Management</h2>
                    <p class="header-subtitle">Manage students, teachers, and administrators</p>
                </div>
                <div class="header-actions">
                    <button class="btn btn-secondary" onclick="exportUsers()">üì• Export</button>
                    <button class="btn btn-primary" onclick="showAddUserModal()">‚ûï Add User</button>
                </div>
            </header>

            <!-- User Stats -->
            <div class="stats-grid">
                <div class="stat-card" onclick="filterUsersByType('all')">
                    <div class="stat-label">Total Users</div>
                    <div class="stat-value">1,247</div>
                    <div class="stat-change">All active accounts</div>
                </div>
                <div class="stat-card" onclick="filterUsersByType('student')">
                    <div class="stat-label">Students</div>
                    <div class="stat-value">1,089</div>
                    <div class="stat-change">87% of total</div>
                </div>
                <div class="stat-card" onclick="filterUsersByType('teacher')">
                    <div class="stat-label">Teachers</div>
                    <div class="stat-value">156</div>
                    <div class="stat-change">12% of total</div>
                </div>
                <div class="stat-card" onclick="filterUsersByType('admin')">
                    <div class="stat-label">Admins</div>
                    <div class="stat-value">2</div>
                    <div class="stat-change">1% of total</div>
                </div>
            </div>

            <!-- Filters -->
            <div class="controls">
                <div class="search-box">
                    <span class="search-icon">üîç</span>
                    <input type="text" id="userSearch" placeholder="Search users by name or email..."
                        onkeyup="filterUsers()">
                </div>
                <select id="userTypeFilter" onchange="filterUsers()">
                    <option value="">All Types</option>
                    <option value="student">Students</option>
                    <option value="teacher">Teachers</option>
                    <option value="admin">Admins</option>
                </select>
                <select id="userStatusFilter" onchange="filterUsers()">
                    <option value="">All Status</option>
                    <option value="active">Active</option>
                    <option value="inactive">Inactive</option>
                    <option value="suspended">Suspended</option>
                </select>
            </div>

            <!-- Users Table -->
            <div class="table-container">
                <div class="table-header">
                    <h3>Users List</h3>
                </div>
                <table id="usersTable">
                    <thead>
                        <tr>
                            <th>User</th>
                            <th>Type</th>
                            <th>Email</th>
                            <th>Joined</th>
                            <th>Status</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="usersTableBody">
                        <!-- Populated by JS -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Course Management Section -->
        <div id="courses" class="content-section">
            <header class="header">
                <div class="header-title">
                    <h2>Course Management</h2>
                    <p class="header-subtitle">Oversee all courses and approve new submissions</p>
                </div>
                <div class="header-actions">
                    <button class="btn btn-secondary" onclick="exportCourses()">üì• Export</button>
                    <button class="btn btn-primary" onclick="showCreateCourseModal()">‚ûï Create Course</button>
                </div>
            </header>

            <!-- Course Stats -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-label">Total Courses</div>
                    <div class="stat-value">156</div>
                    <div class="stat-change">‚Üë 8 new this month</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Pending Approval</div>
                    <div class="stat-value">12</div>
                    <div class="stat-change">Requires review</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Total Enrollments</div>
                    <div class="stat-value">3,456</div>
                    <div class="stat-change">‚Üë 15% this month</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Avg. Completion</div>
                    <div class="stat-value">78%</div>
                    <div class="stat-change">‚Üë 5% from last month</div>
                </div>
            </div>

            <!-- Course Grid -->
            <div class="courses-grid" id="coursesGrid">
                <!-- Populated by JS -->
            </div>
        </div>

        <!-- Analytics Section -->
        <div id="analytics" class="content-section">
            <header class="header">
                <div class="header-title">
                    <h2>Analytics & Insights</h2>
                    <p class="header-subtitle">Track platform performance and user engagement</p>
                </div>
                <div class="header-actions">
                    <select id="analyticsTimeRange" onchange="updateAnalytics()">
                        <option value="7">Last 7 Days</option>
                        <option value="30" selected>Last 30 Days</option>
                        <option value="90">Last 90 Days</option>
                        <option value="365">Last Year</option>
                    </select>
                </div>
            </header>

            <!-- Analytics Grid -->
            <div class="dashboard-grid">
                <div class="section-card">
                    <div class="section-header">
                        <h3 class="section-title">User Growth</h3>
                    </div>
                    <div class="chart-container">
                        <canvas id="userGrowthChart"></canvas>
                    </div>
                </div>

                <div class="section-card">
                    <div class="section-header">
                        <h3 class="section-title">Engagement Metrics</h3>
                    </div>
                    <div class="engagement-stats">
                        <div class="engagement-item">
                            <div class="engagement-label">Daily Active Users</div>
                            <div class="engagement-value">847</div>
                            <div class="engagement-bar">
                                <div class="engagement-fill" style="width: 68%;"></div>
                            </div>
                        </div>
                        <div class="engagement-item">
                            <div class="engagement-label">Avg. Session Duration</div>
                            <div class="engagement-value">24 min</div>
                            <div class="engagement-bar">
                                <div class="engagement-fill" style="width: 82%;"></div>
                            </div>
                        </div>
                        <div class="engagement-item">
                            <div class="engagement-label">Course Completion Rate</div>
                            <div class="engagement-value">78%</div>
                            <div class="engagement-bar">
                                <div class="engagement-fill" style="width: 78%;"></div>
                            </div>
                        </div>
                        <div class="engagement-item">
                            <div class="engagement-label">Assignment Submission Rate</div>
                            <div class="engagement-value">92%</div>
                            <div class="engagement-bar">
                                <div class="engagement-fill" style="width: 92%;"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Revenue Section -->
        <div id="revenue" class="content-section">
            <header class="header">
                <div class="header-title">
                    <h2>Revenue Management</h2>
                    <p class="header-subtitle">Monitor income and financial metrics</p>
                </div>
                <div class="header-actions">
                    <button class="btn btn-secondary" onclick="exportRevenue()">üì• Export</button>
                    <button class="btn btn-primary" onclick="generateInvoice()">üìÑ Generate Invoice</button>
                </div>
            </header>

            <!-- Revenue Metrics -->
            <div class="metrics-grid">
                <div class="metric-card">
                    <div class="metric-icon" style="background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);">üíµ
                    </div>
                    <div class="metric-content">
                        <div class="metric-label">Total Revenue</div>
                        <div class="metric-value">$542,890</div>
                        <div class="metric-change positive">‚Üë 18.2% YoY</div>
                    </div>
                </div>
                <div class="metric-card">
                    <div class="metric-icon" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">üìä
                    </div>
                    <div class="metric-content">
                        <div class="metric-label">This Month</div>
                        <div class="metric-value">$45,280</div>
                        <div class="metric-change positive">‚Üë 15.7%</div>
                    </div>
                </div>
                <div class="metric-card">
                    <div class="metric-icon" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">üí≥
                    </div>
                    <div class="metric-content">
                        <div class="metric-label">Transactions</div>
                        <div class="metric-value">1,234</div>
                        <div class="metric-change positive">‚Üë 12.3%</div>
                    </div>
                </div>
                <div class="metric-card">
                    <div class="metric-icon" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">üìà
                    </div>
                    <div class="metric-content">
                        <div class="metric-label">Avg. Transaction</div>
                        <div class="metric-value">$36.70</div>
                        <div class="metric-change positive">‚Üë 5.1%</div>
                    </div>
                </div>
            </div>

            <!-- Revenue Details -->
            <div class="section-card">
                <div class="section-header">
                    <h3 class="section-title">Recent Transactions</h3>
                    <a href="#" class="see-all" onclick="showAllTransactions()">View All</a>
                </div>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>User</th>
                                <th>Course</th>
                                <th>Amount</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody id="transactionsBody">
                            <!-- Populated by JS -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Reports Section -->
        <div id="reports" class="content-section">
            <header class="header">
                <div class="header-title">
                    <h2>Reports & Exports</h2>
                    <p class="header-subtitle">Generate comprehensive platform reports</p>
                </div>
            </header>

            <div class="reports-grid">
                <div class="report-card" onclick="generateReport('users')">
                    <div class="report-icon">üë•</div>
                    <h3>User Report</h3>
                    <p>Complete user data with activity metrics</p>
                    <button class="btn btn-secondary">Generate</button>
                </div>
                <div class="report-card" onclick="generateReport('courses')">
                    <div class="report-icon">üìö</div>
                    <h3>Course Report</h3>
                    <p>Course performance and enrollment data</p>
                    <button class="btn btn-secondary">Generate</button>
                </div>
                <div class="report-card" onclick="generateReport('revenue')">
                    <div class="report-icon">üí∞</div>
                    <h3>Financial Report</h3>
                    <p>Revenue, transactions, and financial metrics</p>
                    <button class="btn btn-secondary">Generate</button>
                </div>
                <div class="report-card" onclick="generateReport('engagement')">
                    <div class="report-icon">üìä</div>
                    <h3>Engagement Report</h3>
                    <p>User activity and platform engagement</p>
                    <button class="btn btn-secondary">Generate</button>
                </div>
            </div>
        </div>

        <!-- Settings Section -->
        <div id="settings" class="content-section">
            <header class="header">
                <div class="header-title">
                    <h2>Platform Settings</h2>
                    <p class="header-subtitle">Configure platform-wide settings</p>
                </div>
            </header>

            <div class="settings-grid">
                <div class="section-card">
                    <h3>General Settings</h3>
                    <div class="settings-form">
                        <div class="form-group">
                            <label>Platform Name</label>
                            <input type="text" value="Connet" id="platformName">
                        </div>
                        <div class="form-group">
                            <label>Support Email</label>
                            <input type="email" value="support@connet.com" id="supportEmail">
                        </div>
                        <div class="form-group">
                            <label>Timezone</label>
                            <select id="timezone">
                                <option>UTC</option>
                                <option selected>America/New_York</option>
                                <option>Europe/London</option>
                                <option>Asia/Tokyo</option>
                            </select>
                        </div>
                        <button class="btn btn-primary" onclick="saveGeneralSettings()">Save Changes</button>
                    </div>
                </div>

                <div class="section-card">
                    <h3>Security Settings</h3>
                    <div class="settings-form">
                        <div class="setting-toggle">
                            <div>
                                <div class="toggle-label">Two-Factor Authentication</div>
                                <div class="toggle-desc">Require 2FA for all admin accounts</div>
                            </div>
                            <label class="switch">
                                <input type="checkbox" checked onchange="toggleSetting('2fa')">
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="setting-toggle">
                            <div>
                                <div class="toggle-label">Email Verification</div>
                                <div class="toggle-desc">Require email verification for new users</div>
                            </div>
                            <label class="switch">
                                <input type="checkbox" checked onchange="toggleSetting('emailVerify')">
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="setting-toggle">
                            <div>
                                <div class="toggle-label">Auto-Suspend Inactive Users</div>
                                <div class="toggle-desc">Suspend users inactive for 90+ days</div>
                            </div>
                            <label class="switch">
                                <input type="checkbox" onchange="toggleSetting('autoSuspend')">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script src="adminDash.js"></script>
</body>

</html>